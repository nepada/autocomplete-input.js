{"version":3,"file":"index.js","sources":["../../../src/js/index.js"],"sourcesContent":["import $ from 'jquery';\nimport 'corejs-typeahead/dist/typeahead.jquery';\nimport Bloodhound from 'corejs-typeahead/dist/bloodhound';\n\nfunction initializeInput(input) {\n    const $input = $(input);\n    if ($input.is('.tt-input, .tt-hint')) {\n        return;\n    }\n\n    const autocompleteUrl = $input.data('autocompleteUrl');\n    const autocompleteQueryPlaceholder = $input.data('autocompleteQueryPlaceholder') || '__QUERY_PLACEHOLDER__';\n    const autocompleteMinLength = $input.data('autocompleteMinLength') || 1;\n\n    $input.typeahead(\n        {\n            highlight: true,\n            autoselect: true,\n            minLength: autocompleteMinLength,\n        },\n        {\n            source: new Bloodhound({\n                queryTokenizer: Bloodhound.tokenizers.whitespace,\n                datumTokenizer: Bloodhound.tokenizers.whitespace,\n                remote: {\n                    url: autocompleteUrl,\n                    wildcard: autocompleteQueryPlaceholder,\n                },\n            }),\n        },\n    );\n}\n\nfunction initializeForm(form) {\n    $(form)\n        .find('input[data-autocomplete-url]')\n        .each((idx, input) => {\n            initializeInput(input);\n        });\n}\n\nfunction initializeAutocomplete(Nette) {\n    // Initialize all forms on document ready\n    $(() => {\n        $('form').each((idx, form) => {\n            initializeForm(form);\n        });\n    });\n\n    // Tap into Nette.initForm() to provide AJAX snippet support via e.g. Naja\n    const originalInitForm = Nette.initForm;\n    Nette.initForm = (form) => {\n        originalInitForm(form);\n        initializeForm(form);\n    };\n}\n\nexport default initializeAutocomplete;\n"],"names":[],"mappings":";;;;;;AAIA,SAAS,eAAe,CAAC,KAAK,EAAE;AAChC,IAAI,MAAM,MAAM,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;AAC5B,IAAI,IAAI,MAAM,CAAC,EAAE,CAAC,qBAAqB,CAAC,EAAE;AAC1C,QAAQ,OAAO;AACf,KAAK;AACL;AACA,IAAI,MAAM,eAAe,GAAG,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;AAC3D,IAAI,MAAM,4BAA4B,GAAG,MAAM,CAAC,IAAI,CAAC,8BAA8B,CAAC,IAAI,uBAAuB,CAAC;AAChH,IAAI,MAAM,qBAAqB,GAAG,MAAM,CAAC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;AAC5E;AACA,IAAI,MAAM,CAAC,SAAS;AACpB,QAAQ;AACR,YAAY,SAAS,EAAE,IAAI;AAC3B,YAAY,UAAU,EAAE,IAAI;AAC5B,YAAY,SAAS,EAAE,qBAAqB;AAC5C,SAAS;AACT,QAAQ;AACR,YAAY,MAAM,EAAE,IAAI,UAAU,CAAC;AACnC,gBAAgB,cAAc,EAAE,UAAU,CAAC,UAAU,CAAC,UAAU;AAChE,gBAAgB,cAAc,EAAE,UAAU,CAAC,UAAU,CAAC,UAAU;AAChE,gBAAgB,MAAM,EAAE;AACxB,oBAAoB,GAAG,EAAE,eAAe;AACxC,oBAAoB,QAAQ,EAAE,4BAA4B;AAC1D,iBAAiB;AACjB,aAAa,CAAC;AACd,SAAS;AACT,KAAK,CAAC;AACN,CAAC;AACD;AACA,SAAS,cAAc,CAAC,IAAI,EAAE;AAC9B,IAAI,CAAC,CAAC,IAAI,CAAC;AACX,SAAS,IAAI,CAAC,8BAA8B,CAAC;AAC7C,SAAS,IAAI,CAAC,CAAC,GAAG,EAAE,KAAK,KAAK;AAC9B,YAAY,eAAe,CAAC,KAAK,CAAC,CAAC;AACnC,SAAS,CAAC,CAAC;AACX,CAAC;AACD;AACA,SAAS,sBAAsB,CAAC,KAAK,EAAE;AACvC;AACA,IAAI,CAAC,CAAC,MAAM;AACZ,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,IAAI,KAAK;AACtC,YAAY,cAAc,CAAC,IAAI,CAAC,CAAC;AACjC,SAAS,CAAC,CAAC;AACX,KAAK,CAAC,CAAC;AACP;AACA;AACA,IAAI,MAAM,gBAAgB,GAAG,KAAK,CAAC,QAAQ,CAAC;AAC5C,IAAI,KAAK,CAAC,QAAQ,GAAG,CAAC,IAAI,KAAK;AAC/B,QAAQ,gBAAgB,CAAC,IAAI,CAAC,CAAC;AAC/B,QAAQ,cAAc,CAAC,IAAI,CAAC,CAAC;AAC7B,KAAK,CAAC;AACN;;;;"}